<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Construction of prior distributions for extreme value model parameters — set_prior • revdbayes</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Construction of prior distributions for extreme value model parameters — set_prior"><meta property="og:description" content='Constructs a prior distribution for use as the argument prior in
rpost and rpost_rcpp.  The user can either
specify their own prior function, returning the log of the prior
density, (using an R function or an external pointer to a compiled C++
function) and arguments for hyperparameters or choose from a list of
in-built model-specific priors.  Note that the arguments
model = "gev", model = "pp" and model =="os" are
equivalent because a prior is specified is the GEV parameterisation in each
of these cases.
Note also that for model = "pp" the prior GEV parameterisation
relates to the value of noy subsequently supplied to
rpost or rpost_rcpp.
The argument model is used for consistency with rpost.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">revdbayes</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.5.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/EVA2021revdbayes.html">EVA 2021 R Workshop: revdbayes</a>
    </li>
    <li>
      <a href="../articles/ex1revdbayes.html">EVA 2021 revdbayes exercises 1</a>
    </li>
    <li>
      <a href="../articles/ex2revdbayes.html">EVA 2021 revdbayes exercises 2</a>
    </li>
    <li>
      <a href="../articles/revdbayes-a-vignette.html">Introducing revdbayes: Ratio-of-Uniforms Sampling for Bayesian Extreme Value Analysis</a>
    </li>
    <li>
      <a href="../articles/revdbayes-b-using-rcpp-vignette.html">Faster simulation using revdbayes</a>
    </li>
    <li>
      <a href="../articles/revdbayes-c-predictive-vignette.html">Posterior Predictive Extreme Value Inference using the revdbayes Package</a>
    </li>
    <li>
      <a href="../articles/revdbayes-d-kgaps-vignette.html">Inference for the extremal index using threshold interexceedance times</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/paulnorthrop/revdbayes/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Construction of prior distributions for extreme value model parameters</h1>
    <small class="dont-index">Source: <a href="https://github.com/paulnorthrop/revdbayes/blob/HEAD/R/priors.R" class="external-link"><code>R/priors.R</code></a></small>
    <div class="hidden name"><code>set_prior.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Constructs a prior distribution for use as the argument <code>prior</code> in
<code><a href="rpost.html">rpost</a></code> and <code><a href="rpost_rcpp.html">rpost_rcpp</a></code>.  The user can either
specify their own prior function, returning the <strong>log</strong> of the prior
density, (using an R function or an external pointer to a compiled C++
function) and arguments for hyperparameters or choose from a list of
in-built model-specific priors.  Note that the arguments
<code>model = "gev"</code>, <code>model = "pp"</code> and <code>model =="os"</code> are
equivalent because a prior is specified is the GEV parameterisation in each
of these cases.
Note also that for <code>model = "pp"</code> the prior GEV parameterisation
relates to the value of <code>noy</code> subsequently supplied to
<code><a href="rpost.html">rpost</a></code> or <code><a href="rpost_rcpp.html">rpost_rcpp</a></code>.
The argument <code>model</code> is used for consistency with <code>rpost</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_prior</span><span class="op">(</span></span>
<span>  prior <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"norm"</span>, <span class="st">"loglognorm"</span>, <span class="st">"mdi"</span>, <span class="st">"flat"</span>, <span class="st">"flatflat"</span>, <span class="st">"jeffreys"</span>, <span class="st">"beta"</span>, <span class="st">"prob"</span>,</span>
<span>    <span class="st">"quant"</span><span class="op">)</span>,</span>
<span>  model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gev"</span>, <span class="st">"gp"</span>, <span class="st">"pp"</span>, <span class="st">"os"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>prior</dt>
<dd><p>Either</p><ul><li><p>An R function, or a pointer to a user-supplied compiled
  C++ function, that returns the value of the log of the prior density
  (see <strong>Examples</strong>), or</p></li>
<li><p>A character string giving the name of the prior.
    See <strong>Details</strong> for a list of priors available for each model.</p></li>
</ul></dd>


<dt>model</dt>
<dd><p>A character string.  If <code>prior</code> is a character string
then <code>model</code> gives the extreme value model to be used.  Using
either <code>model = "gev"</code>, <code>model = "pp"</code> or
<code>model = "os"</code> will result in the same (GEV) parameterisation.
If <code>prior</code> is a function then the value of <code>model</code> is stored
so that in the subsequent call to <code>rpost</code>, consistency of the
prior and extreme value model parameterisations can be checked.</p></dd>


<dt>...</dt>
<dd><p>Further arguments to be passed to the user-supplied or
in-built prior function.  For details of the latter see <strong>Details</strong>
and/or the relevant underlying function: <code><a href="gp_norm.html">gp_norm</a></code>,
<code><a href="gp_mdi.html">gp_mdi</a></code>, <code><a href="gp_flat.html">gp_flat</a></code>, <code><a href="gp_flatflat.html">gp_flatflat</a></code>,
<code><a href="gp_jeffreys.html">gp_jeffreys</a></code>, <code><a href="gp_beta.html">gp_beta</a></code>,
<code><a href="gev_norm.html">gev_norm</a></code>, <code><a href="gev_loglognorm.html">gev_loglognorm</a></code>,
<code><a href="gev_mdi.html">gev_mdi</a></code>, <code><a href="gev_flat.html">gev_flat</a></code>, <code><a href="gev_flatflat.html">gev_flatflat</a></code>,
<code><a href="gev_beta.html">gev_beta</a></code>, <code><a href="gev_prob.html">gev_prob</a></code>, <code><a href="gev_quant.html">gev_quant</a></code>.
All these priors have the arguments <code>min_xi</code> (prior lower bound on
\(\xi\)) and <code>max_xi</code> (prior upper bound on \(\xi\)).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with class <code>"evprior"</code>.  The first component is the
  input prior, i.e. either the name of the prior or a user-supplied
  function.  The remaining components contain the numeric values of any
  hyperparameters in the prior.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Of the in-built named priors available in revdbayes only
  those specified using <code>prior = "prob"</code> (<code><a href="gev_prob.html">gev_prob</a></code>),
  <code>prior = "quant"</code> (<code><a href="gev_quant.html">gev_quant</a></code>)
  <code>prior = "norm"</code> (<code><a href="gev_norm.html">gev_norm</a></code>) or
  <code>prior = "loglognorm"</code> (<code><a href="gev_loglognorm.html">gev_loglognorm</a></code>) are proper.
  If <code>model = "gev"</code> these priors are equivalent to priors available
  in the evdbayes package, namely <code>prior.prob</code>,
  <code>prior.quant</code>, <code>prior.norm</code> and <code>prior.loglognorm</code>.</p>
<p>The other in-built priors are improper, that is, the integral of the
  prior function over its support is not finite.  Such priors do not
  necessarily result in a proper posterior distribution. Northrop and
  Attalides (2016) consider the issue of posterior propriety in Bayesian
  extreme value analyses.  In most of improper priors below the prior for
  the scale parameter \(\sigma\) is taken to be \(1/\sigma\),
  i.e. a flat prior for \(\log \sigma\).  Here we denote the
  scale parameter of the GP distribution by \(\sigma\), whereas we use
  \(\sigma_u\) in the revdbayes vignette.</p>
<p>For all in-built priors the arguments <code>min_xi</code> and <code>max_xi</code> may
  be supplied by the user.  The prior density is set to zero for any value
  of the shape parameter \(\xi\) that is outside
  (<code>min_xi</code>, <code>max_xi</code>).  This will override the default values
  of <code>min_xi</code> and <code>max_xi</code> in the named priors detailed above.</p>
<p><strong>Extreme value priors.</strong> It is typical to use either
  <code>prior = "prob"</code> (<code><a href="gev_prob.html">gev_prob</a></code>) or
  <code>prior = "quant"</code> (<code><a href="gev_quant.html">gev_quant</a></code>) to set an informative
  prior and one of the other prior (or a user-supplied function) otherwise.
  The names of the in-built extreme value priors set using <code>prior</code>
  and details of hyperparameters are:</p><ul><li><p><code>"prob"</code>.  A prior for GEV parameters \((\mu, \sigma, \xi)\)
    based on Crowder (1992).  See <code><a href="gev_prob.html">gev_prob</a></code> for details.
    See also Northrop et al. (2017) and Stephenson (2016).</p></li>
<li><p><code>"quant"</code>.  A prior for GEV parameters \((\mu, \sigma, \xi)\)
    based on Coles and Tawn (1996). See <code><a href="gev_quant.html">gev_quant</a></code> for details.</p></li>
<li><p><code>"norm"</code>.  For <code>model = "gp"</code>:
    (\(\log \sigma, \xi\)), is bivariate normal
    with mean <code>mean</code> (a numeric vector of length 2) and covariance
    matrix <code>cov</code> (a symmetric positive definite 2 by 2 matrix).  For <code>model = "gev"</code>:
    (\(\mu, \log \sigma, \xi\)), is trivariate
    normal with mean <code>mean</code> (a numeric vector of length 3) and
    covariance matrix <code>cov</code> (a symmetric positive definite 3 by 3
    matrix).</p></li>
<li><p><code>"loglognorm"</code>.  For <code>model = "gev"</code> only:
    (\(\log \mu, \log \sigma, \xi\)), is
    trivariate normal with mean <code>mean</code> (a numeric vector of length 3)
    and covariance matrix <code>cov</code> (a symmetric positive definite 3 by 3
    matrix).</p></li>
<li><p><code>"mdi"</code>.  For <code>model = "gp"</code>: (an extended version
    of) the maximal data information (MDI) prior, that is,
    $$\pi(\sigma, \xi) = \sigma^{-1} \exp[-a(\xi + 1)], {\rm ~for~}
    \sigma &gt; 0, \xi \geq -1, a \geq 0.$$
    The value of \(a\) is set using the argument <code>a</code>.  The default
    value is \(a = 1\), which gives the MDI prior.    For <code>model = "gev"</code>: (an extended version
    of) the maximal data information (MDI) prior, that is,
    $$\pi(\mu, \sigma, \xi) = \sigma^{-1} \exp[-a(\xi + 1)],
    {\rm ~for~} \sigma &gt; 0, \xi \geq -1, a \geq 0.$$
    The value of \(a\) is set using the argument <code>a</code>.  The default
    value is \(a = \gamma\), where \(\gamma = 0.57721\) is Euler's
    constant, which gives the MDI prior.    For each of these cases \(\xi\) must be is bounded below
    <em>a priori</em> for the posterior to be proper
    (Northrop and Attalides, 2016).  An argument for the
    bound \(\xi \geq -1\) is that for \(\xi &lt; -1\) the
    GP (GEV) likelihood is unbounded above as \(-\sigma/\xi\)
    (\(\mu - \sigma/\xi\))) approaches the sample maximum.  In
    maximum likelihood estimation of GP parameters (Grimshaw, 1993)
    and GEV parameters a local maximum of the likelihood
    is sought on the region
    \(\sigma &gt; 0, \xi \geq -1\).</p></li>
<li><p><code>"flat"</code>.    For <code>model = "gp"</code>: a flat prior for
    \(\xi\) (and for \(\log \sigma\)):
    $$\pi(\sigma, \xi) = \sigma^{-1}, {\rm ~for~} \sigma &gt; 0.$$    For <code>model = "gev"</code>: a flat prior for
    \(\xi\) (and for \(\mu\) and \(\log \sigma\)):
    $$\pi(\mu, \sigma, \xi) = \sigma^{-1}, {\rm ~for~} \sigma &gt; 0.$$</p></li>
<li><p><code>"flatflat"</code>.    For <code>model = "gp"</code>: flat priors for
    \(\sigma\) and \(\xi\):
    $$\pi(\sigma, \xi) = 1, {\rm ~for~} \sigma &gt; 0.$$    For <code>model = "gev"</code>: flat priors for \(\mu\), \(\sigma\)
    and \(\xi\):
    $$\pi(\mu, \sigma, \xi) = 1, {\rm ~for~} \sigma &gt; 0.$$    Therefore, the posterior is proportional to the likelihood.</p></li>
<li><p><code>"jeffreys"</code>.  For <code>model = "gp"</code> only: the Jeffreys
    prior (Castellanos and Cabras, 2007):
    $$\pi(\sigma, \xi) = \sigma^{-1}(1+\xi)^{-1}(1+2\xi)^{-1/2},
      {\rm ~for~} \sigma &gt; 0, \xi &gt; -1 / 2.$$    In the GEV case the Jeffreys prior doesn't yield a proper posterior
    for any sample size.  See Northrop and Attalides (2016) for details.</p></li>
<li><p><code>"beta"</code>.
    For <code>model = "gp"</code>: a beta-type(p, q)
    prior is used for xi on the interval (<code>min_xi</code>, <code>max_xi</code>):
    $$\pi(\sigma, \xi) = \sigma^{-1} (\xi - {\min}_{\xi}) ^ {p-1}
          ({\max}_{\xi} - \xi) ^ {q-1}, {\rm ~for~}
          {\min}_{\xi} &lt; \xi &lt; {\max}_{\xi}.$$    For <code>model = "gev"</code>: similarly ...
    $$\pi(\mu, \sigma, \xi) = \sigma^{-1} (\xi - {\min}_{\xi}) ^ {p-1}
          ({\max}_{\xi} - \xi) ^ {q-1}, {\rm ~for~}
          {\min}_{\xi} &lt; \xi &lt; {\max}_{\xi}.$$    The argument <code>pq</code> is a vector containing <code>c(p,q)</code>.
    The default settings for this prior are <code>p = 6, q = 9</code> and
    <code>min_xi = -1/2, max_xi = 1/2</code>, which corresponds to the
    prior for \(\xi\) proposed in Martins and Stedinger (2000, 2001).</p></li>
</ul></div>
    <div id="references">
    <h2>References</h2>
    <p>Castellanos, E. M. and Cabras, S. (2007) A default Bayesian
  procedure for the generalized Pareto distribution.
  <em>Journal of Statistical Planning and Inference</em> <strong>137(2)</strong>,
  473-483. <a href="https://doi.org/10.1016/j.jspi.2006.01.006" class="external-link">doi:10.1016/j.jspi.2006.01.006</a>
.</p>
<p>Coles, S. G. and Tawn, J. A. (1996) A Bayesian analysis of
  extreme rainfall data. <em>Appl. Statist.</em>, <strong>45</strong>, 463-478.</p>
<p>Crowder, M. (1992) Bayesian priors based on parameter
  transformation using the distribution function
  <em>Ann. Inst. Statist. Math.</em>, <strong>44</strong>, 405-416.
  <a href="https://link.springer.com/article/10.1007/BF00050695" class="external-link">https://link.springer.com/article/10.1007/BF00050695</a>.</p>
<p>Grimshaw, S. D. (1993) Computing Maximum Likelihood Estimates
  for the Generalized Pareto Distribution.  <em>Technometrics</em>,
  <strong>35(2)</strong>, 185-191.
  <a href="https://doi.org/10.1080/00401706.1993.10485040" class="external-link">doi:10.1080/00401706.1993.10485040</a>
.</p>
<p>Hosking, J. R. M. and Wallis, J. R. (1987) Parameter and
  Quantile Estimation for the Generalized Pareto Distribution.
  <em>Technometrics</em>, <strong>29(3)</strong>, 339-349.
  <a href="https://doi.org/10.2307/1269343" class="external-link">doi:10.2307/1269343</a>
.</p>
<p>Martins, E. S. and Stedinger, J. R. (2000) Generalized maximum
  likelihood generalized extreme value quantile estimators for hydrologic
  data, <em>Water Resources Research</em>, <strong>36(3)</strong>, 737-744.
  <a href="https://doi.org/10.1029/1999WR900330" class="external-link">doi:10.1029/1999WR900330</a>
.</p>
<p>Martins, E. S. and Stedinger, J. R. (2001) Generalized maximum
  likelihood Pareto-Poisson estimators for partial duration series,
  <em>Water Resources Research</em>, <strong>37(10)</strong>, 2551-2557.
  <a href="https://doi.org/10.1029/2001WR000367" class="external-link">doi:10.1029/2001WR000367</a>
.</p>
<p>Northrop, P.J. and Attalides, N. (2016) Posterior propriety in
  Bayesian extreme value analyses using reference priors
  <em>Statistica Sinica</em>, <strong>26</strong>(2), 721--743
  <a href="https://doi.org/10.5705/ss.2014.034" class="external-link">doi:10.5705/ss.2014.034</a>
.</p>
<p>Northrop, P. J., Attalides, N. and Jonathan, P. (2017)
  Cross-validatory extreme value threshold selection and uncertainty
  with application to ocean storm severity.
  <em>Journal of the Royal Statistical Society Series C: Applied
  Statistics</em>, <strong>66</strong>(1), 93-120.
  <a href="https://doi.org/10.1111/rssc.12159" class="external-link">doi:10.1111/rssc.12159</a></p>
<p>Stephenson, A. (2016) Bayesian inference for extreme value
  modelling.  In <em>Extreme Value Modeling and Risk Analysis: Methods
  and Applications</em> (eds D. K. Dey and J. Yan), 257-280, Chapman and Hall,
  London. <a href="https://doi.org/10.1201/b19721" class="external-link">doi:10.1201/b19721</a>
.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="rpost.html">rpost</a></code> and <code><a href="rpost_rcpp.html">rpost_rcpp</a></code> for sampling
  from an extreme value posterior distribution.</p>
<p><code><a href="create_prior_xptr.html">create_prior_xptr</a></code> for creating an external
  pointer to a C++ function to evaluate the log-prior density.</p>
<p><code><a href="rprior_prob.html">rprior_prob</a></code> and <code><a href="rprior_quant.html">rprior_quant</a></code> for
  sampling from informative prior distributions for GEV parameters.</p>
<p><code><a href="gp_norm.html">gp_norm</a></code>, <code><a href="gp_mdi.html">gp_mdi</a></code>,
  <code><a href="gp_flat.html">gp_flat</a></code>, <code><a href="gp_flatflat.html">gp_flatflat</a></code>,
  <code><a href="gp_jeffreys.html">gp_jeffreys</a></code>, <code><a href="gp_beta.html">gp_beta</a></code> to see the arguments
  for priors for GP parameters.</p>
<p><code><a href="gev_norm.html">gev_norm</a></code>, <code><a href="gev_loglognorm.html">gev_loglognorm</a></code>,
  <code><a href="gev_mdi.html">gev_mdi</a></code>, <code><a href="gev_flat.html">gev_flat</a></code>, <code><a href="gev_flatflat.html">gev_flatflat</a></code>,
  <code><a href="gev_beta.html">gev_beta</a></code>, <code><a href="gev_prob.html">gev_prob</a></code>, <code><a href="gev_quant.html">gev_quant</a></code>
  to see the arguments for priors for GEV parameters.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Normal prior for GEV parameters (mu, log(sigma), xi).</span></span></span>
<span class="r-in"><span><span class="va">mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10000</span>, <span class="fl">10000</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pn</span> <span class="op">&lt;-</span> <span class="fu">set_prior</span><span class="op">(</span>prior <span class="op">=</span> <span class="st">"norm"</span>, model <span class="op">=</span> <span class="st">"gev"</span>, mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span>, cov <span class="op">=</span> <span class="va">mat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pn</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $prior</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "gev_norm"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0 0 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $min_xi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $max_xi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $icov</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1e-04 0e+00 0e+00 1e-04 0e+00 1e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $trendsd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "evprior"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"model")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "gev"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Prior for GP parameters with flat prior for xi on (-1, infinity).</span></span></span>
<span class="r-in"><span><span class="va">fp</span> <span class="op">&lt;-</span> <span class="fu">set_prior</span><span class="op">(</span>prior <span class="op">=</span> <span class="st">"flat"</span>, model <span class="op">=</span> <span class="st">"gp"</span>, min_xi <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fp</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $prior</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "gp_flat"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $min_xi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $max_xi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $trendsd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "evprior"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"model")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "gp"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A user-defined prior (see the vignette for details).</span></span></span>
<span class="r-in"><span><span class="va">u_prior_fn</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">ab</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;=</span> <span class="fl">0</span> <span class="op">|</span> <span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;=</span> <span class="op">-</span><span class="fl">1</span> <span class="op">|</span> <span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&gt;=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">-</span><span class="cn">Inf</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="va">ab</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>         <span class="op">(</span><span class="va">ab</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="va">up</span> <span class="op">&lt;-</span> <span class="fu">set_prior</span><span class="op">(</span>prior <span class="op">=</span> <span class="va">u_prior_fn</span>, ab <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>, model <span class="op">=</span> <span class="st">"gp"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A user-defined prior using a pointer to a C++ function</span></span></span>
<span class="r-in"><span><span class="va">ptr_gp_flat</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_prior_xptr.html">create_prior_xptr</a></span><span class="op">(</span><span class="st">"gp_flat"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">u_prior_ptr</span> <span class="op">&lt;-</span> <span class="fu">set_prior</span><span class="op">(</span>prior <span class="op">=</span> <span class="va">ptr_gp_flat</span>, model <span class="op">=</span> <span class="st">"gp"</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Paul J. Northrop.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

